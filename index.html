<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Andrea & Anissa</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>


section {
 padding:80px 20px;
 text-align:center;
}

.hero {
 display:flex;
 align-items:center;
 justify-content:center;
 gap:50px;
}

.hero img {
 width:300px;
 height:350px;
 border-radius:200px 200px 20px 20px;
 object-fit:cover;
}

.btn {
 background:#b79b5b;
 color:white;
 padding:12px 25px;
 text-decoration:none;
 display:inline-block;
 margin-top:20px;
}

.card {
 max-width:700px;
 margin:auto;
 border:1px solid #b79b5b;
 padding:40px;
}

input,select,textarea,button {
 width:100%;
 padding:10px;
 margin:10px 0;
 border:1px solid #b79b5b;
 font-family:inherit;
}

button {
 background:#b79b5b;
 color:white;
 border:none;
}

.hidden{display:none;}

/* CHECKBOX GROUP */
.checkbox-group {
 display: flex;
 gap: 20px;
 justify-content: center;
 margin: 20px 0;
}

.checkbox-option {
 display: flex;
 align-items: center;
 gap: 8px;
 cursor: pointer;
}

.checkbox-option input[type="checkbox"] {
 width: auto;
 margin: 0;
 cursor: pointer;
}

/* ACCOMPAGNATORI */
#accompagnatoriContainer {
 margin: 20px 0;
}

.accompagnatore-input {
 display: flex;
 gap: 10px;
 margin: 10px 0;
 align-items: center;
}

.accompagnatore-input input {
 flex: 1;
 margin: 0;
}

.btn-remove {
 background: #d9534f;
 color: white;
 border: none;
 padding: 10px 15px;
 cursor: pointer;
 border-radius: 4px;
 width: auto;
}

.btn-add {
 background: #5cb85c;
 color: white;
 border: none;
 padding: 10px 20px;
 cursor: pointer;
 border-radius: 4px;
 width: auto;
 display: inline-flex;
 align-items: center;
 gap: 5px;
 font-size: 18px;
}

.btn-add:hover {
 background: #4cae4c;
}

.btn-remove:hover {
 background: #c9302c;
}

/* NAVBAR */
nav {
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 background: rgba(255, 255, 255, 0.95);
 backdrop-filter: blur(10px);
 border-bottom: 1px solid #b79b5b;
 padding: 10px 0;
 z-index: 1000;
}

nav ul {
 list-style: none;
 margin: 0;
 padding: 0;
 display: flex;
 justify-content: center;
 gap: 30px;
}

nav a {
 color: #b79b5b;
 text-decoration: none;
 font-weight: 600;
 padding: 5px 15px;
 transition: color 0.3s;
}

nav a:hover {
 color: #8b7c47;
}

/* Aggiungere margine top al body per compensare la navbar fissa */
body {
 margin: 0;
 font-family: 'Playfair Display', serif;
 background: #fff;
 color: #b79b5b;
 scroll-behavior: smooth;
 padding-top: 60px;
}

/* NOTIFICA CUSTOM */
.custom-notification {
 position: fixed;
 top: 80px;
 left: 50%;
 transform: translateX(-50%) translateY(-100px);
 background: white;
 border: 2px solid #b79b5b;
 border-radius: 15px;
 padding: 25px 40px;
 box-shadow: 0 15px 50px rgba(183, 155, 91, 0.4);
 z-index: 10000;
 opacity: 0;
 transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
 max-width: 450px;
 text-align: center;
}

.custom-notification.show {
 transform: translateX(-50%) translateY(0);
 opacity: 1;
}

.custom-notification.success {
 border-color: #5cb85c;
}

.custom-notification.error {
 border-color: #d9534f;
}

.custom-notification .icon {
 font-size: 50px;
 margin-bottom: 15px;
}

.custom-notification.success .icon {
 color: #5cb85c;
}

.custom-notification.error .icon {
 color: #d9534f;
}

.custom-notification h3 {
 margin: 0 0 10px 0;
 color: #b79b5b;
 font-size: 24px;
 font-weight: 600;
}

.custom-notification.success h3 {
 color: #5cb85c;
}

.custom-notification.error h3 {
 color: #d9534f;
}

.custom-notification p {
 margin: 0;
 color: #666;
 font-size: 16px;
 line-height: 1.5;
}

/* COUNTDOWN */
.countdown-container {
 margin: 30px 0;
 display: flex;
 justify-content: center;
 gap: 20px;
 flex-wrap: wrap;
}

.countdown-box {
 background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
 border: 2px solid #b79b5b;
 border-radius: 15px;
 padding: 20px;
 min-width: 100px;
 box-shadow: 0 5px 15px rgba(183, 155, 91, 0.15);
 transition: transform 0.3s ease;
}

.countdown-box:hover {
 transform: translateY(-5px);
 box-shadow: 0 8px 25px rgba(183, 155, 91, 0.25);
}

.countdown-number {
 font-size: 48px;
 font-weight: 600;
 color: #b79b5b;
 display: block;
 margin-bottom: 5px;
}

.countdown-label {
 font-size: 16px;
 color: #8b7c47;
 text-transform: uppercase;
 letter-spacing: 2px;
}

.countdown-hearts {
 font-size: 24px;
 margin: 20px 0;
 animation: heartBeat 1.5s ease-in-out infinite;
}

@keyframes heartBeat {
 0%, 100% { transform: scale(1); }
 25% { transform: scale(1.1); }
 50% { transform: scale(1); }
}

.countdown-message {
 margin-top: 20px;
 font-style: italic;
 color: #b79b5b;
 font-size: 18px;
}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav>
 <ul>
  <li><a href="#home">Home</a></li>
  <li><a href="#data">Data</a></li>
  <li><a href="#cerimonia">Cerimonia</a></li>
  <li><a href="#rsvp">Partecipazione</a></li>
  <li><a href="#regalo">Regalo</a></li>
 </ul>
</nav>

<!-- HERO -->
<section id="home" class="hero">
 <div>
  <h1>Il nostro invito a Nozze</h1>
  <p>Siamo lieti di invitarvi al nostro matrimonio</p>
  <a href="#cerimonia" class="btn">Guarda l'invito ‚Üì</a>
 </div>
 <img src="fotocoppia.jpeg" alt="Andrea & Anissa">
</section>

<!-- DATA -->
<section id="data">
 <div class="card">
  <h2>Ci sposiamo il</h2>
  <h1>23 Giugno 2026</h1>
  <div class="countdown-hearts">üíï üíç üíï</div>
  <div class="countdown-container" id="countdown">
   <div class="countdown-box">
    <span class="countdown-number" id="days">--</span>
    <span class="countdown-label">Giorni</span>
   </div>
   <div class="countdown-box">
    <span class="countdown-number" id="hours">--</span>
    <span class="countdown-label">Ore</span>
   </div>
   <div class="countdown-box">
    <span class="countdown-number" id="minutes">--</span>
    <span class="countdown-label">Minuti</span>
   </div>
   <div class="countdown-box">
    <span class="countdown-number" id="seconds">--</span>
    <span class="countdown-label">Secondi</span>
   </div>
  </div>
  <p class="countdown-message" id="countdownMessage">Mancano pochi istanti al nostro giorno speciale!</p>
  <p style="margin-top: 30px;">Vi aspettiamo numerosi nel giorno pi√π importante della nostra vita</p>
 </div>
</section>

<!-- CERIMONIA -->
<section id="cerimonia">
 <h2>La Cerimonia</h2>
 <h1>Hotel Lido Torre Egnazia</h1>
 <p>Orario: 16:30</p>
 <p>Indirizzo: Contrada Losciale 70/C</p>

 <iframe
  src="https://maps.google.com/maps?q=Hotel%20Lido%20Torre%20Egnazia&t=&z=13&ie=UTF8&iwloc=&output=embed"
  width="90%" height="300" style="border:0;">
 </iframe>
</section>

<!-- RSVP -->
<section id="rsvp">
<div class="card">

<h2>Conferma Presenza</h2>

<form id="rsvpForm">

<input name="nome" id="nomePartecipante" placeholder="Nome e cognome" required>

<select name="partecipazione" required id="partecipazione">
 <option value="">Conferma presenza</option>
 <option value="Si">Si, partecipo</option>
 <option value="No">No, mi dispiace</option>
</select>

<div id="tipoPresenzaContainer" class="hidden">
 <p style="margin: 20px 0 10px 0; font-weight: 600;">Tipo di presenza:</p>
 <div class="checkbox-group">
  <label class="checkbox-option">
   <input type="checkbox" name="tipoPresenza" value="Solo" id="checkSolo">
   <span>Solo</span>
  </label>
  <label class="checkbox-option">
   <input type="checkbox" name="tipoPresenza" value="Con accompagnatori" id="checkAccompagnatori">
   <span>Con accompagnatori</span>
  </label>
 </div>
</div>

<div id="accompagnatoriContainer" class="hidden">
 <p style="margin: 20px 0 10px 0; font-weight: 600;">Accompagnatori:</p>
 <div id="accompagnatoriList"></div>
 <button type="button" class="btn-add" id="btnAddAccompagnatore">+ Aggiungi accompagnatore</button>
</div>

<textarea name="note" placeholder="Note o intolleranze alimentari"></textarea>

<button type="submit">Invia conferma</button>

</form>

</div>
</section>

<!-- REGALO -->
<section id="regalo">
 <h2>Un vostro pensiero √® gradito</h2>
 <p>IBAN: IT98H0306941574100000017865</p>
 <p>Intestato a: Andrea Alba</p>
 <p>Causale: Regalo matrimonio Andrea & Anissa</p>
</section>

<!-- FOOTER -->
<section>
 <h2>Grazie</h2>
 <p>Andrea & Anissa</p>
</section>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbyq9C1G56XkVMfudl7VLS4q3hf7G9RRSK2TUndto9Y84-fhO86Pwsu7bbcTa4bIcA9ksg/exec";

// COUNTDOWN
const weddingDate = new Date("2026-06-23T16:30:00").getTime();

function updateCountdown() {
  const now = new Date().getTime();
  const distance = weddingDate - now;

  if (distance < 0) {
    document.getElementById("days").textContent = "00";
    document.getElementById("hours").textContent = "00";
    document.getElementById("minutes").textContent = "00";
    document.getElementById("seconds").textContent = "00";
    document.getElementById("countdownMessage").textContent = "√à il nostro giorno speciale! üíë";
    return;
  }

  const days = Math.floor(distance / (1000 * 60 * 60 * 24));
  const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const seconds = Math.floor((distance % (1000 * 60)) / 1000);

  document.getElementById("days").textContent = String(days).padStart(2, '0');
  document.getElementById("hours").textContent = String(hours).padStart(2, '0');
  document.getElementById("minutes").textContent = String(minutes).padStart(2, '0');
  document.getElementById("seconds").textContent = String(seconds).padStart(2, '0');

  if (days > 30) {
    document.getElementById("countdownMessage").textContent = "Non vediamo l'ora di condividere questo giorno con voi!";
  } else if (days > 7) {
    document.getElementById("countdownMessage").textContent = "Ci siamo quasi... il grande giorno si avvicina!";
  } else if (days > 0) {
    document.getElementById("countdownMessage").textContent = "Mancano solo pochi giorni! üíï";
  } else {
    document.getElementById("countdownMessage").textContent = "√à oggi! Ci vediamo tra pochissimo! üéâ";
  }
}

// Aggiorna countdown ogni secondo
updateCountdown();
setInterval(updateCountdown, 1000);

// Funzione per mostrare notifica custom
function showNotification(title, message, type = 'success') {
  const notification = document.createElement('div');
  notification.className = `custom-notification ${type}`;
  
  const icon = type === 'success' ? 'üíù' : '‚ö†Ô∏è';
  
  notification.innerHTML = `
    <div class="icon">${icon}</div>
    <h3>${title}</h3>
    <p>${message}</p>
  `;
  
  document.body.appendChild(notification);
  
  setTimeout(() => notification.classList.add('show'), 100);
  
  setTimeout(() => {
    notification.classList.remove('show');
    setTimeout(() => notification.remove(), 600);
  }, 4000);
}

const partecipazione = document.getElementById("partecipazione");
const tipoPresenzaContainer = document.getElementById("tipoPresenzaContainer");
const checkSolo = document.getElementById("checkSolo");
const checkAccompagnatori = document.getElementById("checkAccompagnatori");
const accompagnatoriContainer = document.getElementById("accompagnatoriContainer");
const accompagnatoriList = document.getElementById("accompagnatoriList");
const btnAddAccompagnatore = document.getElementById("btnAddAccompagnatore");

// Mostra/nascondi tipo presenza in base alla partecipazione
partecipazione.onchange = () => {
  const partecipa = partecipazione.value === "Si";
  tipoPresenzaContainer.classList.toggle("hidden", !partecipa);
  accompagnatoriContainer.classList.add("hidden");
  checkSolo.checked = false;
  checkAccompagnatori.checked = false;
  accompagnatoriList.innerHTML = "";
};

// Gestione checkbox mutualmente esclusive
checkSolo.onchange = () => {
  if (checkSolo.checked) {
    checkAccompagnatori.checked = false;
    accompagnatoriContainer.classList.add("hidden");
    accompagnatoriList.innerHTML = "";
  }
};

checkAccompagnatori.onchange = () => {
  if (checkAccompagnatori.checked) {
    checkSolo.checked = false;
    accompagnatoriContainer.classList.remove("hidden");
  } else {
    accompagnatoriContainer.classList.add("hidden");
    accompagnatoriList.innerHTML = "";
  }
};

// Aggiungi campo accompagnatore
btnAddAccompagnatore.onclick = () => {
  const div = document.createElement("div");
  div.className = "accompagnatore-input";
  div.innerHTML = `
    <input type="text" placeholder="Nome e cognome accompagnatore" class="accompagnatore-name">
    <button type="button" class="btn-remove" onclick="this.parentElement.remove()">‚úï</button>
  `;
  accompagnatoriList.appendChild(div);
};

// Gestione invio form
document.getElementById("rsvpForm").onsubmit = async e => {
  e.preventDefault();
  const f = new FormData(e.target);

  let tipoPresenza = "";
  if (checkSolo.checked) tipoPresenza = "Solo";
  if (checkAccompagnatori.checked) tipoPresenza = "Con accompagnatori";

  const accompagnatoriInputs = document.querySelectorAll(".accompagnatore-name");
  const nomiArray = Array.from(accompagnatoriInputs)
    .map(i => i.value.trim())
    .filter(v => v !== "");

  const payload = {
    nome: f.get("nome"),
    partecipazione: f.get("partecipazione"),
    tipoPresenza: tipoPresenza,
    accompagnatori: nomiArray.length,
    nomiAccompagnatori: nomiArray.join(", "),
    note: f.get("note")
  };

  try {
    await fetch(API_URL, {
      method: "POST",
      body: JSON.stringify(payload)
    });

    showNotification(
      'Conferma inviata con successo!', 
      'Grazie per la tua conferma. Ci vediamo il 23 Giugno 2026!',
      'success'
    );
    
    e.target.reset();
    tipoPresenzaContainer.classList.add("hidden");
    accompagnatoriContainer.classList.add("hidden");
    accompagnatoriList.innerHTML = "";
  } catch (error) {
    showNotification(
      'Errore nell\'invio', 
      'Si √® verificato un errore. Per favore riprova pi√π tardi.',
      'error'
    );
  }
};

</script>

</body>
</html>
